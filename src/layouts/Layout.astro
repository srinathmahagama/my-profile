---
import "../styles/global.css";

interface Props {
	title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="description"
			content="Srinath Mahagama - Full Stack Developer based in Adelaide, Australia. Specializing in React, Node.js, and Cloud Architecture."
		/>
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>

		<!-- SEO & Open Graph -->
		<meta property="og:title" content={title} />
		<meta
			property="og:description"
			content="Full Stack Developer based in Adelaide, Australia. View my portfolio and projects."
		/>
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://srinath.dev/" />
		<meta property="og:image" content="/og-image.png" />

		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@300;400;500;600;700&display=swap"
			rel="stylesheet"
		/>
	</head>
	<body>
		<nav
			class="fixed top-4 left-1/2 -translate-x-1/2 w-[90%] max-w-[1200px] z-[1000] px-8 py-4 rounded-full glass-panel flex justify-between items-center"
		>
			<a
				href="/"
				class="font-[family-name:var(--font-display)] text-2xl font-bold"
				style="color: var(--color-text);"
			>
				<span class="text-[var(--color-primary)]">.dev</span>
			</a>
			<div class="flex items-center gap-6">
				<ul class="hidden md:flex gap-8">
					<li>
						<a
							href="/"
							class="font-medium text-[var(--color-text-muted)] hover:text-[var(--color-text)] transition-colors relative group"
							>Home<span
								class="absolute bottom-[-4px] left-0 w-0 h-[2px] bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] transition-all duration-300 group-hover:w-full"
							></span></a
						>
					</li>
					<li>
						<a
							href="/about"
							class="font-medium text-[var(--color-text-muted)] hover:text-[var(--color-text)] transition-colors relative group"
							>About<span
								class="absolute bottom-[-4px] left-0 w-0 h-[2px] bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] transition-all duration-300 group-hover:w-full"
							></span></a
						>
					</li>
					<li>
						<a
							href="/projects"
							class="font-medium text-[var(--color-text-muted)] hover:text-[var(--color-text)] transition-colors relative group"
							>Projects<span
								class="absolute bottom-[-4px] left-0 w-0 h-[2px] bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] transition-all duration-300 group-hover:w-full"
							></span></a
						>
					</li>
					<li>
						<a
							href="/contact"
							class="font-medium text-[var(--color-text-muted)] hover:text-[var(--color-text)] transition-colors relative group"
							>Contact<span
								class="absolute bottom-[-4px] left-0 w-0 h-[2px] bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] transition-all duration-300 group-hover:w-full"
							></span></a
						>
					</li>
				</ul>
				<button
					id="theme-toggle"
					class="p-2 rounded-full hover:bg-white/10 transition-colors"
					aria-label="Toggle theme"
				>
					<svg
						id="theme-toggle-dark-icon"
						class="w-5 h-5 hidden"
						fill="currentColor"
						viewBox="0 0 20 20"
						xmlns="http://www.w3.org/2000/svg"
						style="color: var(--color-text);"
						><path
							d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
						></path></svg
					>
					<svg
						id="theme-toggle-light-icon"
						class="w-5 h-5 hidden"
						fill="currentColor"
						viewBox="0 0 20 20"
						xmlns="http://www.w3.org/2000/svg"
						style="color: var(--color-text);"
						><path
							d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
							fill-rule="evenodd"
							clip-rule="evenodd"></path></svg
					>
				</button>

				<!-- Mobile Menu Button -->
				<button
					id="mobile-menu-btn"
					class="md:hidden p-2 rounded-full hover:bg-white/10 transition-colors"
					aria-label="Toggle mobile menu"
				>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						fill="none"
						viewBox="0 0 24 24"
						stroke-width="1.5"
						stroke="currentColor"
						class="w-6 h-6"
						style="color: var(--color-text);"
					>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
						></path>
					</svg>
				</button>
			</div>
		</nav>

		<!-- Mobile Menu Overlay -->
		<div
			id="mobile-menu"
			class="fixed inset-0 z-[999] bg-[var(--color-bg)]/95 backdrop-blur-xl hidden flex flex-col justify-center items-center"
		>
			<ul class="flex flex-col gap-8 text-center">
				<li>
					<a
						href="/"
						class="text-2xl font-medium text-[var(--color-text)] hover:text-[var(--color-primary)] transition-colors"
						>Home</a
					>
				</li>
				<li>
					<a
						href="/about"
						class="text-2xl font-medium text-[var(--color-text)] hover:text-[var(--color-primary)] transition-colors"
						>About</a
					>
				</li>
				<li>
					<a
						href="/projects"
						class="text-2xl font-medium text-[var(--color-text)] hover:text-[var(--color-primary)] transition-colors"
						>Projects</a
					>
				</li>
				<li>
					<a
						href="/contact"
						class="text-2xl font-medium text-[var(--color-text)] hover:text-[var(--color-primary)] transition-colors"
						>Contact</a
					>
				</li>
			</ul>
		</div>
	</body>

	<script is:inline>
		// Theme toggle functionality
		const theme = (() => {
			if (
				typeof localStorage !== "undefined" &&
				localStorage.getItem("theme")
			) {
				return localStorage.getItem("theme");
			}
			return "dark";
		})();

		if (theme === "light") {
			document.documentElement.setAttribute("data-theme", "light");
		} else {
			document.documentElement.removeAttribute("data-theme");
		}

		window.addEventListener("DOMContentLoaded", () => {
			const toggleBtn = document.getElementById("theme-toggle");
			const darkIcon = document.getElementById("theme-toggle-dark-icon");
			const lightIcon = document.getElementById(
				"theme-toggle-light-icon",
			);

			// Show the correct icon
			if (theme === "light") {
				lightIcon.classList.remove("hidden");
			} else {
				darkIcon.classList.remove("hidden");
			}

			toggleBtn.addEventListener("click", () => {
				const currentTheme =
					document.documentElement.getAttribute("data-theme");

				if (currentTheme === "light") {
					document.documentElement.removeAttribute("data-theme");
					localStorage.setItem("theme", "dark");
					darkIcon.classList.remove("hidden");
					lightIcon.classList.add("hidden");
				} else {
					document.documentElement.setAttribute(
						"data-theme",
						"light",
					);
					localStorage.setItem("theme", "light");
					lightIcon.classList.remove("hidden");
					darkIcon.classList.add("hidden");
				}
			});

			// Mobile menu functionality
			const mobileMenuBtn = document.getElementById("mobile-menu-btn");
			const mobileMenu = document.getElementById("mobile-menu");
			const mobileMenuLinks = mobileMenu.querySelectorAll("a");

			mobileMenuBtn.addEventListener("click", () => {
				mobileMenu.classList.toggle("hidden");
				document.body.classList.toggle("overflow-hidden");
			});

			mobileMenuLinks.forEach((link) => {
				link.addEventListener("click", () => {
					mobileMenu.classList.add("hidden");
					document.body.classList.remove("overflow-hidden");
				});
			});
		});
	</script>

	<main class="pt-24 min-h-[calc(100vh-100px)]">
		<slot />
	</main>

	<footer
		class="py-8 text-center text-[#a0a0a0] text-sm border-t border-white/10 mt-16"
	>
		<div class="container">
			<p>
				&copy; {new Date().getFullYear()} Srinath Mahagama. All rights reserved.
			</p>
		</div>
	</footer>
</html>
