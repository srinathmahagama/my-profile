---
interface Props {
    title: string;
    description: string;
    tags?: string[];
    link?: string;
    date?: string;
    image?: string;
}

const { title, description, tags, link, date, image } = Astro.props;
---

<div
    class="glass-panel h-full flex flex-col transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl hover:border-white/20 group overflow-hidden"
>
    {
        image && (
            <div class="h-48 overflow-hidden relative">
                <div class="absolute inset-0 bg-gradient-to-t from-[#0a0a0a] to-transparent opacity-60 z-10" />
                <img
                    src={image}
                    alt={title}
                    class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
                />
            </div>
        )
    }
    <div class="p-8 flex flex-col flex-grow">
        {
            date && (
                <span class="text-sm text-[var(--color-primary)] font-semibold mb-2 block">
                    {date}
                </span>
            )
        }
        <h3
            class="text-2xl mb-4 font-[family-name:var(--font-display)] font-bold"
            style="color: var(--color-text);"
        >
            {title}
        </h3>
        <p class="text-[#a0a0a0] mb-6 flex-grow">{description}</p>

        {
            tags && (
                <div class="flex flex-wrap gap-2 mb-6">
                    {tags.map((tag) => (
                        <span
                            class="px-3 py-1 rounded-full text-xs border"
                            style="background: var(--color-glass-bg); color: var(--color-text); border-color: var(--color-glass-border);"
                        >
                            {tag}
                        </span>
                    ))}
                </div>
            )
        }

        {
            link && (
                <a
                    href={link}
                    class="text-[var(--color-primary)] font-semibold inline-flex items-center gap-2 group-hover:text-[var(--color-secondary)] transition-colors mt-auto"
                    target={link.startsWith("http") ? "_blank" : undefined}
                    rel={
                        link.startsWith("http")
                            ? "noopener noreferrer"
                            : undefined
                    }
                >
                    View Project{" "}
                    <span class="transition-transform duration-200 group-hover:translate-x-1">
                        &rarr;
                    </span>
                </a>
            )
        }
    </div>
</div>
